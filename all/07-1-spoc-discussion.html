
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>lec17 SPOC讨论 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-quiz/style.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-mcqx/mcqx.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fbqx/fbqx.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-spoiler/spoiler.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="07-2-quiz.html" />
    
    
    <link rel="prev" href="07-1-quiz.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="1-intro.html">
            
                <a href="1-intro.html">
            
                    
                    操作系统概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="01-2-spoc-discussion.html">
            
                <a href="01-2-spoc-discussion.html">
            
                    
                    lec1 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="01-3-lab0-quiz.html">
            
                <a href="01-3-lab0-quiz.html">
            
                    
                    lec2 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="01-3-lab0-spoc-discussion.html">
            
                <a href="01-3-lab0-spoc-discussion.html">
            
                    
                    lec2 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="2-intr.html">
            
                <a href="2-intr.html">
            
                    
                    中断、异常和系统调用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="02-1-spoc-discussion.html">
            
                <a href="02-1-spoc-discussion.html">
            
                    
                    lec3 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="02-2-lab1-quiz.html">
            
                <a href="02-2-lab1-quiz.html">
            
                    
                    lec4 lab1 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="02-2-lab1-spoc-discussion.html">
            
                <a href="02-2-lab1-spoc-discussion.html">
            
                    
                    lec4 lab1 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="3&4-pmm.html">
            
                <a href="3&4-pmm.html">
            
                    
                    物理内存管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="03-1-quiz.html">
            
                <a href="03-1-quiz.html">
            
                    
                    lec5 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="03-1-spoc-discussion.html">
            
                <a href="03-1-spoc-discussion.html">
            
                    
                    lec5 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="03-2-quiz.html">
            
                <a href="03-2-quiz.html">
            
                    
                    lec6 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="03-2-spoc-discussion.html">
            
                <a href="03-2-spoc-discussion.html">
            
                    
                    lec6 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="03-3-lab2-quiz.html">
            
                <a href="03-3-lab2-quiz.html">
            
                    
                    lec7 lab2 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="03-3-lab2-spoc-discussion.html">
            
                <a href="03-3-lab2-spoc-discussion.html">
            
                    
                    lec7 lab2 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="5&6-vmm.html">
            
                <a href="5&6-vmm.html">
            
                    
                    虚拟内存管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="04-1-quiz.html">
            
                <a href="04-1-quiz.html">
            
                    
                    lec8 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="04-1-spoc-discussion.html">
            
                <a href="04-1-spoc-discussion.html">
            
                    
                    lec8 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="04-2-quiz.html">
            
                <a href="04-2-quiz.html">
            
                    
                    lec9 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="04-2-spoc-discussion.html">
            
                <a href="04-2-spoc-discussion.html">
            
                    
                    lec9 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="04-3-lab3-quiz.html">
            
                <a href="04-3-lab3-quiz.html">
            
                    
                    lec10 lab3 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="04-3-lab3-spoc-discussion.html">
            
                <a href="04-3-lab3-spoc-discussion.html">
            
                    
                    lec10 lab3 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="7-process&thread.html">
            
                <a href="7-process&thread.html">
            
                    
                    进程、线程管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="05-1-quiz.html">
            
                <a href="05-1-quiz.html">
            
                    
                    lec11 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="05-1-spoc-discussion.html">
            
                <a href="05-1-spoc-discussion.html">
            
                    
                    lec11 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="05-2-quiz.html">
            
                <a href="05-2-quiz.html">
            
                    
                    lec12 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="05-2-spoc-discussion.html">
            
                <a href="05-2-spoc-discussion.html">
            
                    
                    lec12 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="05-3-lab4-quiz.html">
            
                <a href="05-3-lab4-quiz.html">
            
                    
                    lec13 lab4 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="05-3-lab4-spoc-discussion.html">
            
                <a href="05-3-lab4-spoc-discussion.html">
            
                    
                    lec13 lab4 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="05-4-lab5-quiz.html">
            
                <a href="05-4-lab5-quiz.html">
            
                    
                    lec14 lab5 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="05-4-lab5-spoc-discussion.html">
            
                <a href="05-4-lab5-spoc-discussion.html">
            
                    
                    lec14 lab5 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="8-sched.html">
            
                <a href="8-sched.html">
            
                    
                    CPU调度
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="06-1-quiz.html">
            
                <a href="06-1-quiz.html">
            
                    
                    lec15 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="06-1-spoc-discussion.html">
            
                <a href="06-1-spoc-discussion.html">
            
                    
                    lec15 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="06-2-lab6-quiz.html">
            
                <a href="06-2-lab6-quiz.html">
            
                    
                    lec16 lab6 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="06-2-lab6-spoc-discussion.html">
            
                <a href="06-2-lab6-spoc-discussion.html">
            
                    
                    lec16 lab6 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="9-sync.html">
            
                <a href="9-sync.html">
            
                    
                    同步
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="07-1-quiz.html">
            
                <a href="07-1-quiz.html">
            
                    
                    lec17 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.8.2" data-path="07-1-spoc-discussion.html">
            
                <a href="07-1-spoc-discussion.html">
            
                    
                    lec17 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="07-2-quiz.html">
            
                <a href="07-2-quiz.html">
            
                    
                    lec18 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="07-2-spoc-discussion.html">
            
                <a href="07-2-spoc-discussion.html">
            
                    
                    lec18 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="07-3-lab7-quiz.html">
            
                <a href="07-3-lab7-quiz.html">
            
                    
                    lec19 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="07-3-lab7-spoc-discussion.html">
            
                <a href="07-3-lab7-spoc-discussion.html">
            
                    
                    lec19 lab7 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="11-deadlock.html">
            
                <a href="11-deadlock.html">
            
                    
                    死锁和进程间通信
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="08-1-quiz.html">
            
                <a href="08-1-quiz.html">
            
                    
                    lec20 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="08-1-spoc-discussion.html">
            
                <a href="08-1-spoc-discussion.html">
            
                    
                    lec20 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="12-filesystem.html">
            
                <a href="12-filesystem.html">
            
                    
                    文件系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="09-1-quiz.html">
            
                <a href="09-1-quiz.html">
            
                    
                    lec21 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="09-1-spoc-discussion.html">
            
                <a href="09-1-spoc-discussion.html">
            
                    
                    lec21 SPOC讨论
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="09-2-lab8-quiz.html">
            
                <a href="09-2-lab8-quiz.html">
            
                    
                    lec22 lab8 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="09-2-lab8-spoc-discussion.html">
            
                <a href="09-2-lab8-spoc-discussion.html">
            
                    
                    lec22 lab8 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="13-io.html">
            
                <a href="13-io.html">
            
                    
                    I/O子系统
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="10-1-quiz.html">
            
                <a href="10-1-quiz.html">
            
                    
                    lec23 在线练习
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="10-1-spoc-discussion.html">
            
                <a href="10-1-spoc-discussion.html">
            
                    
                    lec23 SPOC讨论
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >lec17 SPOC讨论</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="lec-17-&#x540C;&#x6B65;&#x4E92;&#x65A5;spoc&#x601D;&#x8003;&#x9898;">lec 17 &#x540C;&#x6B65;&#x4E92;&#x65A5;SPOC&#x601D;&#x8003;&#x9898;</h1>
<ul>
<li>&#x6709;&quot;spoc&quot;&#x6807;&#x8BB0;&#x7684;&#x9898;&#x662F;&#x8981;&#x6C42;&#x62FF;&#x6E05;&#x534E;&#x5B66;&#x5206;&#x7684;&#x540C;&#x5B66;&#x5728;&#x5B9E;&#x4F53;&#x8BFE;&#x4E0A;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;&#x5B66;&#x5802;&#x5728;&#x7EBF;&#x7684;&#x9009;&#x8BFE;&#x540C;&#x5B66;&#x662F;&#x53EF;&#x9009;&#x9898;&#x76EE;&#x3002;</li>
</ul>
<h2 id="&#x89C6;&#x9891;&#x76F8;&#x5173;&#x601D;&#x8003;&#x9898;">&#x89C6;&#x9891;&#x76F8;&#x5173;&#x601D;&#x8003;&#x9898;</h2>
<h3 id="171-&#x80CC;&#x666F;">17.1 &#x80CC;&#x666F;</h3>
<ol>
<li><p>&#x8BF7;&#x7ED9;&#x51FA;&#x7A0B;&#x5E8F;&#x6B63;&#x786E;&#x6027;&#x7684;&#x5B9A;&#x4E49;&#x6216;&#x89E3;&#x91CA;&#x3002;</p>
<blockquote>
<p>&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x5B9E;&#x73B0;&#x9884;&#x671F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x786E;&#x5B9A;&#x7684;&#x548C;&#x53EF;&#x91CD;&#x73B0;&#x7684;&#xFF1B;</p>
<p>&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5728;&#x786E;&#x5B9A;&#x7684;&#x9650;&#x5236;&#x6761;&#x4EF6;&#x4E0B;&#x6765;&#x8BA8;&#x8BBA;&#x201C;&#x6B63;&#x786E;&#x6027;&#x201D;&#x7684;&#x5B9A;&#x4E49;&#x6216;&#x89E3;&#x91CA;&#xFF0C;&#x6CA1;&#x6709;&#x65E0;&#x6761;&#x4EF6;&#x7684;&#x201C;&#x6B63;&#x786E;&#x201D;&#x3002;</p>
</blockquote>
</li>
<li><p>&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x4E2D;&#x7A0B;&#x5E8F;&#x884C;&#x4E3A;&#x4E0E;&#x539F;&#x6765;&#x7684;&#x9884;&#x671F;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x662F;&#x9519;&#x8BEF;&#x5417;&#xFF1F;</p>
<blockquote>
<p>&#x5982;&#x679C;&#x9884;&#x671F;&#x884C;&#x4E3A;&#x5305;&#x62EC;&#x660E;&#x786E;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x7684;&#x9650;&#x5B9A;&#xFF0C;&#x8FD9;&#x5C31;&#x4E0D;&#x662F;&#x9519;&#x8BEF;&#xFF1B;&#x5426;&#x5219;&#x5C31;&#x662F;&#x9519;&#x8BEF;&#xFF1B;</p>
</blockquote>
</li>
<li><p>&#x7A0B;&#x5E8F;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x6709;&#x4EC0;&#x4E48;&#x597D;&#x5904;&#x548C;&#x969C;&#x788D;&#xFF1F;</p>
<blockquote>
<p>&#x5171;&#x4EAB;&#x8D44;&#x6E90;</p>
<p>&#x52A0;&#x901F;&#x5904;&#x7406;</p>
<p>&#x65B9;&#x4FBF;&#x7BA1;&#x7406;&#xFF1A;&#x6A21;&#x5757;&#x5316;</p>
</blockquote>
</li>
<li><p>&#x4EC0;&#x4E48;&#x662F;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF1F;</p>
<blockquote>
<p>&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x662F;&#x6307;&#x4E00;&#x6B21;&#x4E0D;&#x5B58;&#x5728;&#x4EFB;&#x4F55;&#x4E2D;&#x65AD;&#x6216;&#x5931;&#x8D25;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x90E8;&#x5206;&#x6267;&#x884C;&#x7684;&#x72B6;&#x6001;&#x3002;</p>
</blockquote>
</li>
</ol>
<h3 id="172-&#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x4E2D;&#x7684;&#x540C;&#x6B65;&#x95EE;&#x9898;">17.2 &#x73B0;&#x5B9E;&#x751F;&#x6D3B;&#x4E2D;&#x7684;&#x540C;&#x6B65;&#x95EE;&#x9898;</h3>
<ol>
<li><p>&#x5BB6;&#x5EAD;&#x91C7;&#x8D2D;&#x4E2D;&#x7684;&#x540C;&#x6B65;&#x95EE;&#x9898;&#x7684;5&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x8DEF;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3E;&#x4F8B;&#x63CF;&#x8FF0;&#x53EF;&#x80FD;&#x7684;&#x6F0F;&#x6D1E;&#x3002;</p>
<blockquote>
<p>&#x601D;&#x8DEF;&#x7684;&#x5173;&#x952E;&#x70B9;&#xFF1A;&#x6709;&#x4EBA;&#x53BB;&#x4E70;&#xFF0C;&#x4E0D;&#x4F1A;&#x91CD;&#x590D;&#x4E70;&#xFF1B;&#x5408;&#x7406;&#x7684;&#x679A;&#x4E3E;&#x5206;&#x7C7B;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E00;&#xFF1A;&#x5148;&#x68C0;&#x67E5;&#xFF0C;&#x540E;&#x52A0;&#x76F8;&#x540C;&#x7684;&#x6807;&#x7B7E;&#xFF1B;&#x6F0F;&#x6D1E;&#x662F;&#x53EF;&#x80FD;&#x91CD;&#x590D;&#x91C7;&#x8D2D;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E8C;&#xFF1A;&#x5148;&#x52A0;&#x76F8;&#x540C;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x540E;&#x68C0;&#x67E5;&#xFF1B;&#x6F0F;&#x6D1E;&#x662F;&#x4F1A;&#x51FA;&#x73B0;&#x6CA1;&#x4EBA;&#x53BB;&#x4E70;&#x7684;&#x60C5;&#x51B5;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E09;&#xFF1A;&#x5148;&#x52A0;&#x4E0D;&#x540C;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x540E;&#x68C0;&#x67E5;&#xFF1B;&#x6F0F;&#x6D1E;&#x662F;&#x4F1A;&#x51FA;&#x73B0;&#x6CA1;&#x4EBA;&#x53BB;&#x4E70;&#x7684;&#x60C5;&#x51B5;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x56DB;&#xFF1A;&#x5148;&#x52A0;&#x4E0D;&#x540C;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x540E;&#x8FDB;&#x884C;&#x975E;&#x5BF9;&#x79F0;&#x68C0;&#x67E5;&#xFF1B;&#x7ECF;&#x679A;&#x4E3E;&#x5224;&#x65AD;&#xFF0C;&#x7ED3;&#x679C;&#x662F;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x6F0F;&#x6D1E;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E94;&#xFF1A;&#x539F;&#x5B50;&#x64CD;&#x4F5C;</p>
</blockquote>
</li>
<li><p>&#x5BB6;&#x5EAD;&#x91C7;&#x8D2D;&#x4E2D;&#x7684;&#x540C;&#x6B65;&#x95EE;&#x9898;&#x4E0E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E2D;&#x8FDB;&#x7A0B;&#x540C;&#x6B65;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;</p>
<blockquote>
<p>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#x6BD4;&#x4EBA;&#x7684;&#x64CD;&#x4F5C;&#x5207;&#x6362;&#x5FEB;&#xFF1B;</p>
<p>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8FDB;&#x7A0B;&#x5BF9;&#x5916;&#x754C;&#x73AF;&#x5883;&#x7684;&#x611F;&#x77E5;&#x624B;&#x6BB5;&#x6BD4;&#x4EBA;&#x5C11;&#xFF1B;</p>
</blockquote>
</li>
<li><p>&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x679A;&#x4E3E;&#x548C;&#x5206;&#x7C7B;&#x65B9;&#x6CD5;&#x68C0;&#x67E5;&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#x7684;&#x6B63;&#x786E;&#x6027;&#xFF1F;</p>
<blockquote>
<p>&#x5408;&#x7406;&#x5B9A;&#x4E49;&#x679A;&#x4E3E;&#x5206;&#x7C7B;&#x6807;&#x51C6;&#x662F;&#x68C0;&#x67E5;&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#x6B63;&#x786E;&#x6027;&#x7684;&#x5173;&#x952E;&#xFF1B;</p>
</blockquote>
</li>
<li><p>&#x5C1D;&#x8BD5;&#x63CF;&#x8FF0;&#x65B9;&#x6848;&#x56DB;&#x7684;&#x6B63;&#x786E;&#x6027;&#x3002;</p>
<blockquote>
<p>&#x4F9D;&#x636E;&#x8C01;&#x5148;&#x52A0;&#x6807;&#x7B7E;&#x548C;&#x52A0;&#x7B2C;&#x4E8C;&#x4E2A;&#x6807;&#x7B7E;&#x7684;&#x65F6;&#x95F4;&#x8FDB;&#x884C;&#x60C5;&#x51B5;&#x5212;&#x5206;</p>
</blockquote>
</li>
<li><p>&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF0C;&#x4E92;&#x65A5;&#x3001;&#x6B7B;&#x9501;&#x548C;&#x9965;&#x997F;&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</p>
<blockquote>
<p>&#x4E92;&#x65A5;&#xFF1A;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5360;&#x7528;&#x8D44;&#x6E90;&#xFF0C;&#x5176;&#x5B83;&#x8FDB;&#x7A0B;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#xFF1B;</p>
<p>&#x6B7B;&#x9501;&#xFF1A;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x5404;&#x5360;&#x7528;&#x90E8;&#x5206;&#x8D44;&#x6E90;&#xFF0C;&#x5F62;&#x6210;&#x5FAA;&#x73AF;&#x7B49;&#x5F85;&#xFF1B;</p>
<p>&#x9965;&#x997F;&#xFF1A;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x8F6E;&#x6D41;&#x5360;&#x7528;&#x8D44;&#x6E90;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E00;&#x76F4;&#x5F97;&#x4E0D;&#x5230;&#x8D44;&#x6E90;&#xFF1B;</p>
</blockquote>
</li>
</ol>
<h3 id="173-&#x4E34;&#x754C;&#x533A;&#xFF0C;&#x7981;&#x7528;&#x786C;&#x4EF6;&#x4E2D;&#x65AD;&#x786C;&#x4EF6;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x540C;&#x6B65;&#x65B9;&#x6CD5;">17.3 &#x4E34;&#x754C;&#x533A;&#xFF0C;&#x7981;&#x7528;&#x786C;&#x4EF6;&#x4E2D;&#x65AD;,&#x786C;&#x4EF6;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x540C;&#x6B65;&#x65B9;&#x6CD5;</h3>
<ol>
<li><p>&#x4EC0;&#x4E48;&#x662F;&#x4E34;&#x754C;&#x533A;&#xFF1F;</p>
<blockquote>
<p>&#x64CD;&#x4F5C;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x7684;&#x4E92;&#x65A5;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x7247;&#x6BB5;</p>
</blockquote>
</li>
<li><p>&#x4E34;&#x754C;&#x533A;&#x7684;&#x8BBF;&#x95EE;&#x89C4;&#x5219;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</p>
<blockquote>
<p>&#x7A7A;&#x95F2;&#x5219;&#x5165;&#x3001;&#x5FD9;&#x5219;&#x7B49;&#x5F85;&#x3001;&#x6709;&#x9650;&#x7B49;&#x5F85;&#x3001;&#x8BA9;&#x6743;&#x7B49;&#x5F85;</p>
</blockquote>
</li>
<li><p>&#x7981;&#x7528;&#x4E2D;&#x65AD;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5BF9;&#x4E34;&#x754C;&#x533A;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x7684;&#xFF1F;&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x7F3A;&#x70B9;&#xFF1F;</p>
<blockquote>
<p>&#x7981;&#x7528;&#x4E2D;&#x65AD;&#x53EF;&#x4EE5;&#x963B;&#x6B62;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x5BF9;&#x4E34;&#x754C;&#x533A;&#x8BBF;&#x95EE;&#x8FDB;&#x7A0B;&#x7684;&#x6253;&#x65AD;&#xFF1B;</p>
<p>&#x4F18;&#x70B9;&#x662F;&#x7B80;&#x5355;&#xFF1B;&#x7F3A;&#x70B9;&#x662F;&#x65E0;&#x6CD5;&#x4E2D;&#x65AD;&#xFF0C;&#x4E34;&#x754C;&#x533A;&#x4EE3;&#x7801;&#x6545;&#x969C;&#x53EF;&#x4EE5;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;&#xFF0C;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x9965;&#x997F;&#xFF1B;</p>
</blockquote>
</li>
<li><p>Test&amp;Set&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;Exchange&#x539F;&#x5B50;&#x64CD;&#x4F5C;? Exchange&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;Test&amp;Set&#x539F;&#x5B50;&#x64CD;&#x4F5C;? </p>
<blockquote>
<p>&#x8FD9;&#x4E24;&#x6761;&#x6307;&#x4EE4;&#x5728;&#x5B9E;&#x73B0;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x7684;&#x529F;&#x80FD;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#x3002;</p>
</blockquote>
</li>
</ol>
<h3 id="174-&#x57FA;&#x4E8E;&#x8F6F;&#x4EF6;&#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;">17.4 &#x57FA;&#x4E8E;&#x8F6F;&#x4EF6;&#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;</h3>
<ol>
<li><p>&#x8F6F;&#x4EF6;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;5&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF08;&#x4E09;&#x79CD;&#x5C1D;&#x8BD5;&#x65B9;&#x6848;&#x3001;Peterson&#x7B97;&#x6CD5;&#x548C;Eisenberg&#x7B97;&#x6CD5;&#xFF09;&#x7684;&#x6838;&#x5FC3;&#x601D;&#x8DEF;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3E;&#x4F8B;&#x63CF;&#x8FF0;&#x53EF;&#x80FD;&#x7684;&#x6F0F;&#x6D1E;&#x3002;</p>
<blockquote>
<p>&#x65B9;&#x6848;&#x4E00;&#xFF1A;turn &#x8868;&#x793A;&#x5141;&#x8BB8;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x7EBF;&#x7A0B;&#x6807;&#x8BC6;&#xFF1B;
&#x65B9;&#x6848;&#x6F0F;&#x6D1E;&#xFF1A;&#x4EA4;&#x66FF;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E8C;&#xFF1A;flag[i] &#x8868;&#x793A;&#x7EBF;&#x7A0B;i&#x662F;&#x5426;&#x5728;&#x4E34;&#x754C;&#x533A;&#xFF1B;
&#x5148;&#x5224;&#x65AD;&#xFF0C;&#x540E;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#xFF1B;
&#x65B9;&#x6848;&#x6F0F;&#x6D1E;&#xFF1A;&#x5E76;&#x53D1;&#x5224;&#x65AD;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x540C;&#x65F6;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#xFF1B;</p>
<p>&#x65B9;&#x6848;&#x4E8C;&#xFF1A;flag[i] &#x8868;&#x793A;&#x7EBF;&#x7A0B;i&#x60F3;&#x8981;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#xFF1B;
&#x5148;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#xFF0C;&#x540E;&#x5224;&#x65AD;&#xFF1B;
&#x65B9;&#x6848;&#x6F0F;&#x6D1E;&#xFF1A;&#x5E76;&#x53D1;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x90FD;&#x65E0;&#x6CD5;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x60C5;&#x51B5;&#xFF1B;</p>
<p>Peterson&#x7B97;&#x6CD5;&#xFF1A;turn &#x8868;&#x793A;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x7EBF;&#x7A0B;&#x6807;&#x8BC6;&#xFF0C;flag[i] &#x8868;&#x793A;&#x7EBF;&#x7A0B;i&#x60F3;&#x8981;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#xFF1B;
&#x5148;&#x4FEE;&#x6539;&#x53D8;&#x91CF;&#xFF0C;&#x540E;&#x5224;&#x65AD;&#xFF1B;&#x540E;&#x4FEE;&#x6539;&#x8005;&#x7B49;&#x5F85;&#xFF1B;
&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x4E24;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF1B;
&#x65B9;&#x6848;&#x6B63;&#x786E;&#x6027;&#x679A;&#x4E3E;&#x5224;&#x65AD;&#xFF1A;&#x6309;&#x5199;&#x53D8;&#x91CF;&#x7684;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x60C5;&#x51B5;&#x5206;&#x7C7B;</p>
<p>Eisenberg&#x7B97;&#x6CD5;&#xFF1A;flag[i] &#x8868;&#x793A;&#x7EBF;&#x7A0B;i&#x60F3;&#x8981;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#xFF0C;turn &#x8868;&#x793A;&#x8FDB;&#x5165;&#x4E34;&#x754C;&#x533A;&#x7684;&#x7EBF;&#x7A0B;&#x6807;&#x8BC6;&#xFF08;&#x6709;&#x591A;&#x4E2A;&#x60F3;&#x8FDB;&#x5165;&#x65F6;&#xFF09;&#xFF1B;
&#x8FDB;&#x5165;&#x533A;&#xFF1A;&#x5148;&#x4FEE;&#x6539;flag&#xFF0C;&#x540E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x591A;&#x4E2A;&#x60F3;&#x8FDB;&#x5165;&#xFF1B;&#x540E;&#x4FEE;&#x6539;&#x8005;&#x7B49;&#x5F85;&#xFF1B;
&#x9000;&#x51FA;&#x533A;&#xFF1A;&#x4FEE;&#x6539;turn&#xFF1B;
&#x9002;&#x7528;&#x4E8E;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF1B;
&#x65B9;&#x6848;&#x6B63;&#x786E;&#x6027;&#x679A;&#x4E3E;&#x5224;&#x65AD;&#xFF1A;&#x6309;&#x5199;&#x53D8;&#x91CF;flag[i]&#x7684;&#x987A;&#x5E8F;&#x548C;&#x53D8;&#x91CF;turn&#x5F53;&#x524D;&#x503C;&#x8FDB;&#x884C;&#x60C5;&#x51B5;&#x5206;&#x7C7B;</p>
</blockquote>
</li>
<li><p>&#x5C1D;&#x8BD5;&#x901A;&#x8FC7;&#x679A;&#x4E3E;&#x548C;&#x5206;&#x7C7B;&#x65B9;&#x6CD5;&#x68C0;&#x67E5;Peterson&#x7B97;&#x6CD5;&#x7684;&#x6B63;&#x786E;&#x6027;&#x3002;</p>
</li>
<li><p>&#x5C1D;&#x8BD5;&#x51C6;&#x786E;&#x63CF;&#x8FF0;Eisenberg&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x679A;&#x4E3E;&#x548C;&#x5206;&#x7C7B;&#x65B9;&#x6CD5;&#x68C0;&#x67E5;&#x5176;&#x6B63;&#x786E;&#x6027;&#x3002;</p>
</li>
</ol>
<p>4.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E;</p>
<pre><code>CONCEPT: A shared variable named turn is used to keep track of whose turn it is to enter the critical section.
INITIALIZATION:

    shared int turn;
    ...
    turn = i ;
ENTRY PROTOCOL (for Process i ):
    /* wait until it&apos;s our turn */
    while (turn != i ) {
    }
EXIT PROTOCOL (for Process i ):
    /* pass the turn on */
    turn = j ;
</code></pre><p>5.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E;</p>
<pre><code>CONCEPT: A shared Boolean array named flags contains a flag for each process. The flag values are BUSY when the process is in its critical section (using the resource), or FREE when it is not.
INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean flags[n - 1];
    ...
    flags[i ] = FREE;
    ...
    flags[j ] = FREE;
    ...
ENTRY PROTOCOL (for Process i ):
    /* wait while the other process is in its CS */
    while (flags[j ] == BUSY) {
    }
--&gt;
    /* claim the resource */
    flags[i ] = BUSY;
EXIT PROTOCOL (for Process i ):
    /* release the resource */
    flags[i ] = FREE;
</code></pre><p>6.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E;</p>
<pre><code>CONCEPT: Again we use a shared Boolean array as in Algorithm 2. Each process sets its flag before  testing the other flag, thus avoiding the problem of violating mutual exclusion.
INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean flags[n -1];
    ...
    flags[i ] = FREE;
    ...
    flags[j ] = FREE;
    ...
ENTRY PROTOCOL (for Process i ):
    /* claim the resource */
    flags[i ] = BUSY;
--&gt;
    /* wait if the other process is using the resource */
    while (flags[j ] == BUSY) {
    }
EXIT PROTOCOL (for Process i ):
    /* release the resource */
    flags[i ] = FREE;
</code></pre><p>7.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E;</p>
<pre><code>CONCEPT: To avoid the deadlock problem of Algorithm 3, we periodically clear and reset our own flag while waiting for the other one.
INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean flags[n -1];
    ...
    flags[i ] = FREE;
    ...
    flags[j ] = FREE;
    ...
ENTRY PROTOCOL (for Process i ):
    /* claim the resource */
    flags[i ] = BUSY;
--&gt;
    /* wait if the other process is using the resource */
    while (flags[j ] == BUSY) {
        flags[i ] = FREE;
        delay a while ;
        flags[i ] = BUSY;
    }
EXIT PROTOCOL (for Process i ):
    /* release the resource */
    flags[i ] = FREE;
</code></pre><p>8.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E;</p>
<pre><code>CONCEPT: Both the turn variable and the status flags are combined in a way which we (the requesting process) set our flag and then check our neighbor&apos;s flag. 

INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean flags[n -1];
    shared int turn;
    ...
    turn = i ;
    ...
    flags[i ] = FREE;
    ...
    flags[j ] = FREE;
    ...
ENTRY PROTOCOL (for Process i ):
    /* claim the resource */
    flags[i ] = BUSY;

    /* wait if the other process is using the resource */
    while (flags[j ] == BUSY) {

        /* if waiting for the resource, also wait our turn */
        if (turn != i ) {

            /* but release the resource while waiting */
            flags[i ] = FREE;
            while (turn != i ) {
            }
            flags[i ] = BUSY;
        }

    }
EXIT PROTOCOL (for Process i ):
    /* pass the turn on, and release the resource */
    turn = j ;
    flags[i ] = FREE;
</code></pre><p>9.&#x4E0B;&#x5217;&#x4E8C;&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E; </p>
<pre><code>CONCEPT: Both the turn variable and the status flags are used.

INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean flags[n -1];
    shared int turn;
    ...
    turn = i ;
    ...
    flags[i ] = FREE;
    ...
    flags[j ] = FREE;
    ...
ENTRY PROTOCOL (for Process i ):
    /* claim the resource */
    flags[i ] = BUSY;

    /* give away the turn */
    turn = j ;
    /* wait while the other process is using the resource *and* has the turn */
    while ((flags[j ] == BUSY) &amp;&amp; (turn != i )) {
    }
EXIT PROTOCOL (for Process i ):
    /* release the resource */
    flags[i ] = FREE;
</code></pre><p>10.&#x4E0B;&#x5217;N&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E; </p>
<pre><code>CONCEPT: The turn variable and status flags are used as in Dekker&apos;s algorithm for the 2-process case. The flags now have three possible values: WAITING for a process in the entry protocol, waiting for the resource&apos; ACTIVE for a process in the critical section, using the resource; and IDLE for other cases.

Process priority is maintained in circular order beginning with the one holding the turn. Each process begins the entry protocol by scanning all processes from the one with the turn up to itself. These are the only processes that might have to go first if there is competition.

If the scan finds all processes idle, the process advances tentatively to the ACTIVE state. However, it is still possible that another process which started scanning later but belongs before us will also reach this state. We check one more time to be sure there are no active processes.

INITIALIZATION:

    shared enum states {IDLE, WAITING, ACTIVE} flags[n -1];
    shared int turn;
    int index;    /* not shared! */
    ...
    turn = 0;
    ...
    for (index=0; index&lt;n; index++) {
        flags[index] = IDLE;
    }
ENTRY PROTOCOL (for Process i ):

    repeat {

        /* announce that we need the resource */
        flags[i] = WAITING;

        /* scan processes from the one with the turn up to ourselves. */
        /* repeat if necessary until the scan finds all processes idle */
        index = turn;
        while (index != i) {
            if (flag[index] != IDLE) index = turn;
            else index = index+1 mod n;
        }

        /* now tentatively claim the resource */
        flags[i] = ACTIVE;

        /* find the first active process besides ourselves, if any */
        index = 0;
        while ((index &lt; n) &amp;&amp; ((index == i) || (flags[index] != ACTIVE))) {
            index = index+1;
        }

    /* if there were no other active processes, AND if we have the turn
       or else whoever has it is idle, then proceed.  Otherwise, repeat
       the whole sequence. */
    } until ((index &gt;= n) &amp;&amp; ((turn == i) || (flags[turn] == IDLE)));

    /* claim the turn and proceed */
    turn = i;
EXIT PROTOCOL (for Process i ):

    /* find a process which is not IDLE */
    /* (if there are no others, we will find ourselves) */
    index = turn+1 mod n;
    while (flags[index] == IDLE) {
        index = index+1 mod n;
    }

    /* give the turn to someone that needs it, or keep it */
    turn = index;

    /* we&apos;re finished now */
    flag[i] = IDLE;
</code></pre><p>11.&#x4E0B;&#x5217;N&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E; </p>
<pre><code>CONCEPT: Both status values and turn values are used. The status array is expanded to an integer value for each process, which is used to track that process&apos; progress in scanning the status of other processes. The turn value is also expanded to an integer array. Its values represent the relative ordering for each pair of processes.


INITIALIZATION:

shared int flags[NUMPROCS];
shared int turn[NUMPROCS - 1];
int index;

for (index = 0; index &lt; (NUMPROCS); index++) {

    flags[index] = -1
}


for (index = 0; index &lt; (NUMPROCS-1); index++) {
    turn[index] = 0;
}

ENTRY PROTOCOL (for Process i):
/* repeat for all partners */
for (count = 0; count &lt; (NUMPROCS-1); count++) {

    flags[i] = count;
    turn[count] = i;

    &quot;wait until (for all k != i, flag[k]&lt;count) or (turn[count] != i)&quot;

}

EXIT PROTOCOL (for Process i):
/* tell everyone we are finished */
flags[i] = -1;
</code></pre><p>12.&#x4E0B;&#x5217;N&#x7EBF;&#x7A0B;&#x540C;&#x6B65;&#x673A;&#x5236;&#x662F;&#x5426;&#x6709;&#x8BEF;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x5206;&#x6790;&#xFF0E; </p>
<pre><code>CONCEPT: A process waiting to enter its critical section chooses a number. This number must be greater than all other numbers currently in use. There is a global shared array of current numbers for each process. The entering process checks all other processes sequentially, and waits for each one which has a lower number. Ties are possible; these are resolved using process IDs.

INITIALIZATION:

    typedef char boolean;
    ...
    shared boolean choosing[n]
    shared int num[n];
    ...
    for (j=0; j &lt; n; j++) {
        num[j] = 0;
    }
    ...
ENTRY PROTOCOL (for Process i):
    /* choose a number */
    choosing[i] = TRUE;
    num[i] = max(num[0], ..., num[n-1]) + 1;
    choosing[i] = FALSE;

    /* for all other processes */
    for (j=0; j &lt; n; j++) {

        /* wait if the process is currently choosing */
        while (choosing[j]) {}

        /* wait if the process has a number and comes ahead of us */
        if ((num[j] &gt; 0) &amp;&amp;
          ((num[j] &lt; num[i]) ||
          (num[j] == num[i]) &amp;&amp; (j &lt; i))) {
            while (num[j] &gt; 0) {}
        }
    }

EXIT PROTOCOL (for Process i):
    /* clear our number */
    num[i] = 0;
</code></pre><p>13.(spoc)&#x57FA;&#x4E8E;&#x201C;python, ruby, C, C++&#xFF0C;LISP&#x3001;JavaScript&#x201D;&#x7B49;&#x8BED;&#x8A00;&#x6A21;&#x62DF;&#x5B9E;&#x73B0;Eisenberg&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;&#x8986;&#x76D6;&#x6240;&#x6709;&#x679A;&#x4E3E;&#x5206;&#x7C7B;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF0C;&#x5728;&#x5B9E;&#x73B0;&#x62A5;&#x544A;&#x5199;&#x51FA;&#x8BBE;&#x8BA1;&#x601D;&#x8DEF;&#x548C;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x5206;&#x6790;&#x3002;</p>
<h3 id="175-&#x9AD8;&#x7EA7;&#x62BD;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;">17.5 &#x9AD8;&#x7EA7;&#x62BD;&#x8C61;&#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;</h3>
<ol>
<li><p>&#x5982;&#x4F55;&#x8BC1;&#x660E;TS&#x6307;&#x4EE4;&#x548C;&#x4EA4;&#x6362;&#x6307;&#x4EE4;&#x7684;&#x7B49;&#x4EF7;&#x6027;&#xFF1F;</p>
<blockquote>
<p>&#x5229;&#x7528;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x6765;&#x5B9E;&#x73B0;&#x53E6;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x7684;&#x529F;&#x80FD;&#xFF1B;</p>
</blockquote>
</li>
<li><p>&#x81EA;&#x65CB;&#x9501;&#xFF08;spinlock&#xFF09;&#x548C;&#x65E0;&#x5FD9;&#x7B49;&#x5F85;&#x9501;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x7684;&#xFF1F;&#x5B83;&#x4EEC;&#x6709;&#x4EC0;&#x4E48;&#x4E0D;&#x540C;&#xFF1F;</p>
<blockquote>
<p>&#x81EA;&#x65CB;&#x9501;&#x662F;&#x57FA;&#x4E8E;TS&#x6307;&#x4EE4;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x8FDB;&#x5165;&#x533A;&#x7684;&#x7B49;&#x5F85;&#x662F;&#x5360;&#x7528;CPU&#x7684;&#xFF1B;</p>
<p>&#x65E0;&#x5FD9;&#x7B49;&#x5F85;&#x9501;&#x662F;&#x5728;&#x81EA;&#x65CB;&#x9501;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x52A0;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x961F;&#x5217;&#x548C;&#x8FDB;&#x7A0B;&#x5207;&#x6362;&#xFF0C;&#x8FDB;&#x5165;&#x533A;&#x7684;&#x7B49;&#x5F85;&#x662F;&#x4E0D;&#x5360;&#x7528;CPU&#x7684;&#xFF1B;</p>
</blockquote>
</li>
<li><p>&#x4E3A;&#x4EC0;&#x4E48;&#x786C;&#x4EF6;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;&#x80FD;&#x7B80;&#x5316;&#x540C;&#x6B65;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF1F;</p>
<blockquote>
<p>&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;&#x662F;&#x786C;&#x4EF6;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x4E0E;&#x8FDB;&#x7A0B;&#x6570;&#x76EE;&#x65E0;&#x5173;&#xFF1B;</p>
<p>&#x7F3A;&#x70B9;&#x662F;&#xFF0C;&#x7B49;&#x5F85;&#x65F6;&#x5360;&#x7528;CPU&#xFF0C;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x9965;&#x997F;&#x548C;&#x6B7B;&#x9501;&#xFF1B;</p>
</blockquote>
</li>
</ol>
<h2 id="&#x5C0F;&#x7EC4;&#x601D;&#x8003;&#x9898;">&#x5C0F;&#x7EC4;&#x601D;&#x8003;&#x9898;</h2>
<ol>
<li><p>&#xFF08;spoc&#xFF09;&#x9605;&#x8BFB;<a href="https://github.com/chyyuu/ucore_lab/blob/master/related_info/lab7/lab7-spoc-exercise.md" target="_blank">&#x7B80;&#x5316;x86&#x8BA1;&#x7B97;&#x673A;&#x6A21;&#x62DF;&#x5668;&#x7684;&#x4F7F;&#x7528;&#x8BF4;&#x660E;</a>&#xFF0C;&#x7406;&#x89E3;&#x57FA;&#x4E8E;&#x7B80;&#x5316;x86&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x6C47;&#x7F16;&#x4EE3;&#x7801;&#x3002;</p>
</li>
<li><p>&#xFF08;spoc)&#x4E86;&#x89E3;race condition. &#x8FDB;&#x5165;<a href="https://github.com/chyyuu/ucore_lab/tree/master/related_info/lab7/race-condition" target="_blank">race-condition&#x4EE3;&#x7801;&#x76EE;&#x5F55;</a>&#x3002;</p>
<ul>
<li>&#x6267;&#x884C; <code>./x86.py -p loop.s -t 1 -i 100 -R dx</code>&#xFF0C; &#x8BF7;&#x95EE;<code>dx</code>&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x6267;&#x884C; <code>./x86.py -p loop.s -t 2 -i 100 -a dx=3,dx=3 -R dx</code> &#xFF0C; &#x8BF7;&#x95EE;<code>dx</code>&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x6267;&#x884C; <code>./x86.py -p loop.s -t 2 -i 3 -r -a dx=3,dx=3 -R dx</code>&#xFF0C; &#x8BF7;&#x95EE;<code>dx</code>&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -t 1 -M 2000</code>, &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -t 2 -a bx=3 -M 2000</code>, &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4E3A;&#x4F55;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x8981;&#x5FAA;&#x73AF;3&#x6B21;&#xFF1F;</li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -t 2 -M 2000 -i 4 -r -s 0</code>&#xFF0C; &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -t 2 -M 2000 -i 4 -r -s 1</code>&#xFF0C; &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -t 2 -M 2000 -i 4 -r -s 2</code>&#xFF0C; &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F; </li>
<li>&#x53D8;&#x91CF;x&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740;&#x4E3A;2000, <code>./x86.py -p looping-race-nolock.s -a bx=1 -t 2 -M 2000 -i 1</code>&#xFF0C; &#x8BF7;&#x95EE;&#x53D8;&#x91CF;x&#x7684;&#x503C;&#x662F;&#x4EC0;&#x4E48;&#xFF1F; </li>
</ul>
</li>
<li><p>&#xFF08;spoc&#xFF09; &#x4E86;&#x89E3;software-based lock, hardware-based lock, <a href="https://github.com/chyyuu/ucore_lab/tree/master/related_info/lab7/software-hardware-locks" target="_blank">software-hardware-lock&#x4EE3;&#x7801;&#x76EE;&#x5F55;</a></p>
<ul>
<li>&#x7406;&#x89E3;flag.s,peterson.s,test-and-set.s,ticket.s,test-and-test-and-set.s &#x8BF7;&#x901A;&#x8FC7;x86.py&#x5206;&#x6790;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x5B9E;&#x73B0;&#x4E86;&#x9501;&#x673A;&#x5236;&#xFF1F;&#x8BF7;&#x7ED9;&#x51FA;&#x4F60;&#x7684;&#x5B9E;&#x9A8C;&#x8FC7;&#x7A0B;&#x548C;&#x7ED3;&#x8BBA;&#x8BF4;&#x660E;&#x3002;&#x80FD;&#x5426;&#x8BBE;&#x8BA1;&#x65B0;&#x7684;&#x786C;&#x4EF6;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;Compare-And-Swap,Fetch-And-Add&#xFF1F;
```
Compare-And-Swap</li>
</ul>
</li>
</ol>
<p>int CompareAndSwap(int <em>ptr, int expected, int new) {
  int actual = </em>ptr;
  if (actual == expected)
    *ptr = new;
  return actual;
}</p>
<pre><code>

</code></pre><p>Fetch-And-Add</p>
<p>int FetchAndAdd(int <em>ptr) {
  int old = </em>ptr;
  *ptr = old + 1;
  return old;
}
```</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="07-1-quiz.html" class="navigation navigation-prev " aria-label="Previous page: lec17 在线练习">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="07-2-quiz.html" class="navigation navigation-next " aria-label="Next page: lec18 在线练习">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"lec17 SPOC讨论","level":"1.8.2","depth":2,"next":{"title":"lec18 在线练习","level":"1.8.3","depth":2,"path":"all/07-2-quiz.md","ref":"all/07-2-quiz.md","articles":[]},"previous":{"title":"lec17 在线练习","level":"1.8.1","depth":2,"path":"all/07-1-quiz.md","ref":"all/07-1-quiz.md","articles":[]},"dir":"ltr"},"config":{"plugins":["quiz","mcqx","fbqx","duoshuo","spoiler","-lunr","-search","search-pro"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"spoiler":{},"fbqx":{},"search-pro":{},"duoshuo":{"short_name":"mytest","theme":"default"},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"quiz":{"labels":{"check":"Check my answers","showExplanation":"Explain","showCorrect":"Show all","explanationHeader":"Explanation"},"text":{"noChosen":"Choose at least one answer","incomplete":"Some correct answers are missing"},"buttons":{"showCorrect":true,"showExplanation":true}},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"mcqx":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":0,"left":0,"top":0,"bottom":0}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"introduction":{"path":"README.md","title":"介绍"},"gitbook":"*"},"file":{"path":"all/07-1-spoc-discussion.md","mtime":"2024-07-23T02:15:19.341Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-07-23T02:38:46.624Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-quiz/script.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mcqx/js.cookie.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mcqx/mcqx.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fbqx/fbqx.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-duoshuo/duoshuo.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-spoiler/spoiler.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

